# AutoRia Clone

Необхідно, щоб: Docker, Maven, Java 17 були встановлені

## Запуск проекту:
1. Клонувати проект з Github
2. Запустити проект через команду в терміналі: docker compose up

В базі даних вже створений admin. Username: ... .Password:....
Ви можете залогінитись з цими даними і створити нового адміна.

## AdminController

Контролер для керування користувачами, виробниками, моделями автомобілів, валютами та зображеннями. Усі ендпоінти вимагають роль `ADMIN`.

Кожен запит вимагає Bearer токен в headers.

* createManager - Створює нового користувача з ролью MANAGER.
* addProducer - Додає нового виробника автомобілів.
* addModel - Додає нову модель автомобіля для вказаного виробника.
* uploadCurrencies - Завантажує та оновлює значення валют.
* getAllManagers - Повертає список усіх користувачів з ролью MANAGER.
* setManagerById - Призначає користувача із зазначеним Id менеджером.
* setAdminById - Призначає користувача адміністратором.
* setSellerById - Видаляє роль MANAGER або ADMIN у користувача.
* setPremiumById - Оновлює статус користувача до Premium.
* deleteUserById - Видаляє користувача.
* deleteImageById - Видаляє зображення автомобіля за Id зображення та Id автомобіля.

## AuthController

Контролер авторизації. Логінація і оновлення токенів.

* login - Аутентифікує користувача та повертає access-токен і refresh-токен.
* refresh - Оновлює токен.

## BuyerController

Контролер покупця для регістрації, пошуку авто, просмотру виробників та моделей, а також повідомлення адміністратору про виробників або моделі яких не вистачає.

* register - Регістрація користувача.
* addView - Додає перегляд авто із заданим ID.
* notifyNotFound - Повідомити адміністратору, про модель або виробника, якого не вистачає.
* search - Пошук авто за критеріями.
* getAllProducers - Отримати всіх виробників.
* getAllModels - Отримати всі моделі.
* getAllTypes - Отримати типи авто.
* getAllRegions - Отримати всі області.
* getBasicCarById - Отримати інформацію про автомобіль.

## CurrencyController
Конвертація вказаної суми в інші валюти.

## ImageController
Отримання зображень авто за його id.

## ManagerController
Контролер для менеджерів та адміністраторів. Надає доступ до управління користувачами та авто.

Кожен запит вимагає Bearer token в headers.

* getAllUsers - Отримати всіх користувачів.
* getCarById - Повертає інформацію про авто, доступну для менеджерів і адміністраторів.
* banUser - Блокує користувача по id.
* unBanUser - Розблоковує користувача.
* deleteCarById - Видаляє авто по id.

## SellerController

Контролер для керування оголошеннями про продаж авто продавця `SELLER`. Доступ обмежений ролями: `SELLER`, `ADMIN`, `MANAGER`.

Кожен запит вимагає Bearer token в headers.

* createCar - Створює нове оголошення про продаж автомобіля.
* getMyCars - Повертає всі автомобілі поточного користувача. (Якщо преміум аккаунт, то повертає кількість переглядів)
* findAveragePrice - Шукає середню ціну. (Якщо преміум аккаунт)
* editMyCar - Редагує дані автомобіля.
* addImage - Додає зображення до автомобіля.
* deleteMyCarById - Видаляє автомобіль за ID, якщо він належить поточному користувачеві.
* deleteImage - Видаляє зображення автомобіля.
